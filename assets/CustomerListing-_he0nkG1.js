import{r as i,u as C,j as t,F as o,B as l,o as c}from"./index-HH_UOIZx.js";import{I as g,C as w,R as A}from"./CommonTitle-CeQYZZhX.js";import{u as T}from"./useQuery-CfinWix-.js";import{a as S}from"./axiosInstance-f51KjAOb.js";import{D as y}from"./DataTable-DmZ13xqo.js";import{D as u,a as d}from"./DateIcon-COKakmTY.js";import{F as D}from"./FilterButton-D-icS8k3.js";import{S as I}from"./Stack-CJLiOtGk.js";import{T as v}from"./TextInput-CnAMk_nK.js";import{B,L as E}from"./Button-BxVRjdO9.js";import"./createReactComponent-BvNoKUJd.js";import"./InputBase-BzmGfW4v.js";const P=async()=>await(await S.get("/customers")).data.list,F=()=>T({queryKey:["customers"],queryFn:()=>P(),select:s=>s==null?void 0:s.map((a,r)=>({...a,no:r+1}))}),L=()=>[{name:"No",cell:e=>e.no,width:"70px"},{name:"Id",selector:e=>e.patientID},{name:"Name",selector:e=>e.name},{name:"Phone",selector:e=>e.phone},{name:"Email",selector:e=>e.email},{name:"Total Amount",selector:e=>e.totalAmount,width:"170px"},{name:"Total Paid Amount",selector:e=>e.totalPaidAmount,width:"200px"},{name:"Total Balance",selector:e=>e.totalAmount-e.totalPaidAmount,width:"170px"},{name:"Total Appointments",selector:e=>e.totalAppointments,width:"200px"},{name:"Finished Appointments	",selector:e=>e.finishedAppointments,width:"230px"},{name:"Unfinished Appointments	",selector:e=>e.unfinishedAppointments,width:"230px"},{name:"Total Treatments",selector:e=>e.totalTS,width:"160px"},{name:"Finished Treatments",selector:e=>e.finishedTS,width:"190px"},{name:"Unfinished Treatments",selector:e=>e.unfinishedTS,width:"220px"}],b=()=>{const s=L(),{data:e,isLoading:a}=F(),[r,p]=i.useState(null),[x,h]=i.useState(null),[f,j]=i.useState(""),m=C();return t.jsxs(I,{p:"sm",children:[t.jsx(o,{align:"center",justify:"space-between",children:t.jsxs(o,{align:"center",gap:15,children:[t.jsx(g,{style:{cursor:"pointer"},onClick:()=>m(-1)}),t.jsx(w,{children:"Customer List"})]})}),t.jsx(l,{style:{border:"1px solid #d9d9d9",borderRadius:"7px"},p:"sm",children:t.jsxs(o,{justify:"end",align:"center",gap:15,children:[t.jsx(A,{}),t.jsx(u,{w:150,leftSection:t.jsx(d,{}),leftSectionPointerEvents:"none",placeholder:"Start date",value:r,onChange:p}),t.jsx(u,{w:150,leftSection:t.jsx(d,{}),leftSectionPointerEvents:"none",placeholder:"End date",value:x,onChange:h}),t.jsx(v,{placeholder:"Phone or Id or name",value:f,onChange:n=>j(n.target.value)}),t.jsx(D,{}),t.jsx(B,{bg:c,children:"Excel Import"})]})}),t.jsx(l,{children:a?t.jsx(o,{justify:"center",mt:30,children:t.jsx(E,{color:c})}):t.jsx(l,{children:t.jsx(y,{columns:s,data:e||[],onRowClicked:n=>m(n._id,{state:{patient:n}})})})})]})},J=()=>t.jsx(b,{});export{J as default};
