import{u as d,r as j,j as t,F as r,o as l,B as m,L as f}from"./index-HH_UOIZx.js";import{I as g,C as h,R as y}from"./CommonTitle-CeQYZZhX.js";import{D as C}from"./DataTable-DmZ13xqo.js";import{u as k}from"./useQuery-CfinWix-.js";import{a as S}from"./axiosInstance-f51KjAOb.js";import{u as w}from"./useGetSuperCategories-By2xVup2.js";import{S as L}from"./Stack-CJLiOtGk.js";import{S as I}from"./Select-DmDJsrLN.js";import{B,L as v}from"./Button-BxVRjdO9.js";import"./createReactComponent-BvNoKUJd.js";import"./InputBase-BzmGfW4v.js";const E=()=>[{name:"No",cell:e=>e.no,width:"70px"},{name:"Code",cell:e=>e.code,width:"150px"},{name:"Name",cell:e=>e.name},{name:"Qty",cell:e=>e.currentQuantity},{name:"Total Unit",cell:e=>e.totalUnit},{name:"Selling Price ( MMK )",cell:e=>e.sellingPrice,width:"200px"}],b=async(s="")=>await(await S.get(`/v1/item?s=${s}`)).data.data,P=(s="")=>k({queryKey:["items",s],queryFn:()=>b(s),select:e=>e.map((n,o)=>({...n,no:o+1,type:"item"}))}),R=()=>{const s=E(),e=d(),[c,n]=j.useState(null),{data:o,isLoading:u}=P(c||""),{data:i}=w(),p=()=>{n(null)},x=()=>{o&&f(o,"stock-count-and-price.xlsx")};return t.jsxs(L,{p:"sm",children:[t.jsx(r,{align:"center",justify:"space-between",children:t.jsxs(r,{align:"center",gap:15,children:[t.jsx(g,{style:{cursor:"pointer"},onClick:()=>e(-1)}),t.jsx(h,{children:"Stock Count And Price"})]})}),t.jsxs(r,{align:"center",gap:15,justify:"end",children:[t.jsx(y,{onClick:p}),t.jsx(I,{value:c,onChange:a=>n(a),allowDeselect:!1,placeholder:"Pick category",data:(i==null?void 0:i.map(a=>({label:a.name,value:a._id})))||[]}),t.jsx(B,{bg:l,onClick:x,children:"Export"})]}),t.jsx(m,{children:u?t.jsx(r,{justify:"center",mt:30,children:t.jsx(v,{color:l})}):t.jsx(m,{children:t.jsx(C,{columns:s,data:o||[]})})})]})},_=()=>t.jsx(R,{});export{_ as default};
